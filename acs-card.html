<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>数聚智能门禁信息管理系统-房间管理</title>
		<meta name="keywords" content="Bootstrap模版,Bootstrap模版下载,Bootstrap教程,Bootstrap中文" />
		<meta name="description" content="站长素材提供Bootstrap模版,Bootstrap教程,Bootstrap中文翻译等相关Bootstrap插件下载" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!-- basic styles -->

		<link href="assets/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="assets/css/font-awesome.min.css" />

		<!--[if IE 7]>
		  <link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css" />
		<![endif]-->

		<!-- page specific plugin styles -->

		<!-- fonts -->

        <!--
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" />
		-->

		<!-- ace styles -->

		<link rel="stylesheet" href="assets/css/ace.min.css" />
		<link rel="stylesheet" href="assets/css/ace-rtl.min.css" />
		<link rel="stylesheet" href="assets/css/ace-skins.min.css" />
        <link rel="stylesheet" href="css/acs.css"/>

		<!-- jquery plugin styles -->
		<link rel="stylesheet" href="assets/css/jquery.dataTables.css" />
        <!-- jquery plugin select2 styles -->
        <link rel="stylesheet" href="assets/css/select2.min.css"/>

		<!--[if lte IE 8]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
		<![endif]-->

		<!-- inline styles related to this page -->

		<!-- ace settings handler -->

		<script src="assets/js/ace-extra.min.js"></script>

		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

		<!--[if lt IE 9]>
		<script src="assets/js/html5shiv.js"></script>
		<script src="assets/js/respond.min.js"></script>
		<![endif]-->

        <!--css style begins-->
        <style type="text/css">
            /* 社区列表标题居中 */
            #buildingTable th {
                text-align: center;
            }
            /* 建筑列表获取 */
            #cardTable th {
                text-align: center;
            }
            /* 修改模态对话框的字体大小 */
            .modal {
                font-size: 12px;
            }
            .modal label, input, textarea {
                font-size: 12px !important;
            }
            #buildingTable, #cardTable input {
                height: 28px;
            }
            /* dataTable的页数提示信息的字体大小 */
            .dataTables_info {
                font-size: 12px;
            }
            #modal-select-terminal .modal-content {
                width: 543px;
                margin-left: auto;
                margin-right: auto;
            }
        </style>
        <!--css style ends-->
	</head>

	<body>
		<div class="navbar navbar-default" id="navbar">
			<script type="text/javascript">
				try{ace.settings.check('navbar' , 'fixed')}catch(e){}
			</script>

			<div class="navbar-container" id="navbar-container">
				<div class="navbar-header pull-left">
					<a href="#" class="navbar-brand">
						<small>Accudata 数聚智能门禁信息管理系统</small>
					</a><!-- /.brand -->
				</div><!-- /.navbar-header -->

				<div class="navbar-header pull-right" role="navigation">
					<ul class="nav ace-nav">
						<li class="purple">
							<a data-toggle="dropdown" class="dropdown-toggle" href="#">
								<i class="icon-bell-alt icon-animated-bell"></i>
								<span class="badge badge-important">8</span>
							</a>

							<ul class="pull-right dropdown-navbar navbar-pink dropdown-menu dropdown-caret dropdown-close">
								<li class="dropdown-header">
									<i class="icon-warning-sign"></i>
									8条报警信息
								</li>
								<li>
									<a href="#">
										<div class="clearfix">
                                			<span class="pull-left">
                                    			<i class="btn btn-xs no-hover btn-pink icon-comment"></i>
                                    			超时未关闭..
											</span>
											<span class="pull-right badge badge-info">2</span>
										</div>
									</a>
								</li>
								<li>
									<a href="#">
										<div class="clearfix">
                                			<span class="pull-left">
                                    			<i class="btn btn-xs no-hover btn-pink icon-user"></i>
                                    				消防报警
											</span>
											<span class="pull-right badge badge-info">2</span>
										</div>
									</a>
								</li>
								<li>
									<a href="#">
										<div class="clearfix">
                                			<span class="pull-left">
                                    			<i class="btn btn-xs no-hover btn-success icon-shopping-cart"></i>
                                  				  红外报警
                               				 </span>
											<span class="pull-right badge badge-success">2</span>
										</div>
									</a>
								</li>
								<li>
									<a href="#">
										<div class="clearfix">
                               				<span class="pull-left">
                                  				 <i class="btn btn-xs no-hover btn-info icon-twitter"></i>
                                    			门磁报警
                              				</span>
											<span class="pull-right badge badge-info">2</span>
										</div>
									</a>
								</li>

								<li>
									<a href="#">
										查看所有报警信息
										<i class="icon-arrow-right"></i>
									</a>
								</li>
							</ul>
						</li>

						<li class="green">
							<a data-toggle="dropdown" class="dropdown-toggle" href="#">
								<i class="icon-envelope icon-animated-vertical"></i>
								<span class="badge badge-success">5</span>
							</a>

							<ul class="pull-right dropdown-navbar dropdown-menu dropdown-caret dropdown-close">
								<li class="dropdown-header">
									<i class="icon-envelope-alt"></i>
									5 条消息
								</li>

								<li>
									<a href="#">
										<span class="msg-body">
											<span class="msg-title">
												<span class="blue">系统通知:</span>
												不知道写啥 ...
											</span>
											<span class="msg-time">
												<i class="icon-time"></i>
												<span>2017-8-31 17:30:30</span>
											</span>
										</span>
									</a>
								</li>

								<li>
									<a href="#">
										<span class="msg-body">
											<span class="msg-title">
												<span class="blue">系统通知:</span>
												不知道写啥 ...
											</span>
											<span class="msg-time">
												<i class="icon-time"></i>
												<span>2017-8-30 17:30:30</span>
											</span>
										</span>
									</a>
								</li>

								<li>
									<a href="#">
										<span class="msg-body">
											<span class="msg-title">
												<span class="blue">系统通知:</span>
												不知道写啥 ...
											</span>
											<span class="msg-time">
												<i class="icon-time"></i>
												<span>2017-8-29 17:30:30</span>
											</span>
										</span>
									</a>
								</li>

								<li>
									<a href="inbox.html">
										查看所有消息
										<i class="icon-arrow-right"></i>
									</a>
								</li>
							</ul>
						</li>

						<li class="light-blue">
							<a data-toggle="dropdown" href="#" class="dropdown-toggle">
								<span class="user-info">
									<small>欢迎,</small>
									用户名
								</span>

								<i class="icon-caret-down"></i>
							</a>

							<ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
								<li>
									<a href="#">
										<i class="icon-cog"></i>
										修改密码
									</a>
								</li>

								<li>
									<a href="#">
										<i class="icon-user"></i>
										个人信息
									</a>
								</li>

								<li class="divider"></li>

								<li>
									<a href="#">
										<i class="icon-off"></i>
										退出
									</a>
								</li>
							</ul>
						</li>
					</ul><!-- /.ace-nav -->
				</div><!-- /.navbar-header -->
			</div><!-- /.container -->
		</div>

		<div class="main-container" id="main-container">
			<script type="text/javascript">
				try{ace.settings.check('main-container' , 'fixed')}catch(e){}
			</script>

			<div class="main-container-inner">
				<a class="menu-toggler" id="menu-toggler" href="#">
					<span class="menu-text"></span>
				</a>

				<div class="sidebar" id="sidebar">
					<script type="text/javascript">
						try{ace.settings.check('sidebar' , 'fixed')}catch(e){}
					</script>

					<ul class="nav nav-list">
						<!-- terminal admin begin -->
						<li class="">
							<a href="#" class="dropdown-toggle">
								<i class="icon-lock"></i>
								<span class="menu-text"> 门禁管理 </span>
								<b class="arrow icon-angle-down"></b>
							</a>
							<ul class="submenu">
								<li class="">
									<a href="acs-map.html">
										<i class="icon-map-marker"></i>
										<span class="menu-text"> 电子地图 </span>
									</a>
								</li>
								<li class="">
									<a href="acs-monitor.html">
										<i class="icon-tags"></i>
										<span class="menu-text"> 监控视图 </span>
									</a>
								</li>
								<li class="">
									<a href="acs-terminal.html">
										<i class="icon-th-list"></i>
										<span class="menu-text">  终端管理 </span>
									</a>
								</li>
							</ul>
						</li>
						<!-- terminal admin end -->
						<!-- community admin begin -->
						<li class="active open">
							<a href="#" class="dropdown-toggle">
								<i class="icon-cloud"></i>
								<span class="menu-text"> 社区管理 </span>
								<b class="arrow icon-angle-down"></b>
							</a>
							<ul class="submenu">
								<li class="">
									<a href="acs-building.html">
										<i class="icon-building"></i>
										<span class="menu-text"> 楼宇管理 </span>
									</a>
								</li>
								<li class="">
									<a href="acs-room.html">
										<i class="icon-home"></i>
										<span class="menu-text">  房间管理 </span>
									</a>
								</li>
								<li class="">
									<a href="acs-resident.html">
										<i class="icon-user"></i>
										<span class="menu-text"> 住户管理 </span>
									</a>
								</li>
								<li class="active">
									<a href="acs-card.html">
										<i class="icon-credit-card"></i>
										<span class="menu-text"> 卡片管理 </span>
									</a>
								</li>
							</ul>
						</li>
						<!-- community admin end -->
						<!-- system admin begin -->
						<li class="">
							<a href="#" class="dropdown-toggle">
								<i class="icon-cogs"></i>
								<span class="menu-text"> 系统管理 </span>
								<b class="arrow icon-angle-down"></b>
							</a>
							<ul class="submenu">
								<li class="">
									<a href="acs-user.html">
										<i class="icon-user"></i>
										<span class="menu-text"> 用户管理 </span>
									</a>
								</li>
								<li class="">
									<a href="acs-role.html">
										<i class="icon-male"></i>
										<span class="menu-text"> 角色管理 </span>
									</a>
								</li>
								<li class="">
									<a href="acs-organization.html">
										<i class="icon-group"></i>
										<span class="menu-text"> 机构管理 </span>
									</a>
								</li>
								<li class="">
									<a href="acs-authority.html">
										<i class="icon-gear"></i>
										<span class="menu-text"> 权限管理 </span>
									</a>
								</li>
							</ul>
						</li>
						<!-- system admin end -->
					</ul><!-- /.nav-list -->

					<div class="sidebar-collapse" id="sidebar-collapse">
						<i class="icon-double-angle-left" data-icon1="icon-double-angle-left" data-icon2="icon-double-angle-right"></i>
					</div>

					<script type="text/javascript">
						try{ace.settings.check('sidebar' , 'collapsed')}catch(e){}
					</script>
				</div>

                <!-- .main-content -->
				<div class="main-content">
					<div class="breadcrumbs" id="breadcrumbs">
						<script type="text/javascript">
							try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
						</script>

						<ul class="breadcrumb">
							<li>
								社区管理
							</li>
							<li class="active">卡片管理</li>
						</ul><!-- .breadcrumb -->

					</div>

                    <!-- .page-content -->
					<div class="page-content">
						<div class="row">
							<div class="col-xs-12">
								<!-- PAGE CONTENT BEGINS -->
								<div style="margin-top: 20px; font-size: 12px;">
									<table style="width:100%">
										<tr>
											<td style="padding:3px;" id="f_card_s">
												<form class="form-search">
													<div class="row">
														<div style="width: 300px; margin-left: 9px;">
															<div class="input-group">
																<input id="inputCardName" type="text" class="form-control search-query" placeholder="卡号/持卡人/卡类型" />
																<span class="input-group-btn">
                                                    				<button type="button" class="btn btn-purple btn-sm" onclick="search()">
                                                        				查询
                                                       					<i class="icon-search icon-on-right bigger-110"></i>
                                                    				</button>
                                               					</span>
															</div>
														</div>
													</div>
												</form>
											</td>
											<td align="right" style="padding-right: 3px;" id="f_card_more">
                                                <button class="btn btn-sm btn-success" data-toggle="modal" data-target="#modal-quick-add">快速发卡</button>
                                                <button class="btn btn-sm btn-success" data-toggle="modal" data-target="#modal-auth-card">授权</button>
                                                <button class="btn btn-sm btn-success" data-toggle="modal" onclick="renewCardValidDate()" >续期</button>
												<button class="btn btn-sm btn-primary" data-toggle="modal" data-target="#modal-add-card">添加</button>
												<button class="btn btn-sm btn-primary" data-toggle="modal" onclick="updateCardModal()">修改</button>
												<button class="btn btn-sm btn-danger">删除</button>
											</td>
										</tr>
									</table>
								</div>
								<div style="margin-top: 20px; font-size: 12px;" >
									<table id="cardTable" class="nowrap dataTable hover display cell-border">
									</table>
								</div>
								<!-- PAGE CONTENT ENDS -->
							</div><!-- /.col -->
						</div><!-- /.row -->
					</div><!-- /.page-content -->
				</div><!-- /.main-content -->

			</div><!-- /.main-container-inner -->

			<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
				<i class="icon-double-angle-up icon-only bigger-110"></i>
			</a>
		</div><!-- /.main-container -->

        <!--quick add modal start-->
        <div class="modal fade" id="modal-quick-add" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">快速发卡</h5>
				</div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body">
                        <form class="form-horizontal" id="frm-quick-add">
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 卡号：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="cardNumber"
                                           placeholder="请输入卡号:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a onclick="readCard()">读取</a>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 类型：</label>
                                <div class="col-sm-7">
                                    <select name="cardType" class="form-control">
                                        <option value="-1" selected="selected">请选择类型:</option>
                                        <option value="1">身份证</option>
                                        <option value="2">IC卡</option>
                                    </select>
                                </div>
                            </div>
                            <!--<div class="form-group" align="left">-->
                                <!--<label class="col-sm-3 control-label no-padding-right"> 状态：</label>-->
                                <!--<div class="col-sm-7">-->
                                    <!--<select name="cardStatus" class="form-control">-->
                                        <!--<option value="-1" selected="selected">请选择状态:</option>-->
                                        <!--<option value="1">正常</option>-->
                                        <!--<option value="2">禁用</option>-->
                                        <!--<option value="3">停用</option>-->
                                    <!--</select>-->
                                <!--</div>-->
                            <!--</div>-->
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 持卡人：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="owner" disabled>
                                </div>
                                <div class="col-sm-2 hidden" style="vertical-align: center;" id="addResident">
                                    <a href="#modal-add-resident" data-toggle="modal">&nbsp;添加信息</a>
                                </div>
								<div class="col-sm-2 hidden" style="vertical-align: center;" id="updateResident">
									<a href="#modal-add-resident" data-toggle="modal">&nbsp;查看信息</a>
								</div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 终端：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="terminal" disabled>
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <!--
                                    <a href="#modal-quick-add-terminal" data-toggle="modal" onclick="getTerminalList('wallMachine')" >选择终端</a>
                                    -->
									<a href="#modal-quick-auth-card" data-toggle="modal" >选择终端</a>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 卡片授权：</label>
                                <div class="col-sm-7">
                                    <select name="authType" class="form-control">
                                        <option value="-1" selected="selected">请选择授权类型:</option>
                                        <option value="1">普通卡</option>
                                        <option value="2">管理卡</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 有效期：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="validDate"
                                           placeholder="请输入有效期:">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 座号：</label>
                                <div class="col-sm-7">
                                    <select name="seatNumber" class="form-control">
                                        <option value="-1">请选择座号:</option>
                                        <option value="0" selected >0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 房间号：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="roomNumber"
                                           placeholder="请输入房间号:">
                                </div>
                                <!--
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#modal-quick-add-room" data-toggle="modal">选择房间号</a>
                                </div>
                                -->
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 备注：</label>
                                <div class="col-sm-7">
									<textarea class="form-control" name="cardRemark" rows="4"
                                              placeholder="请输入备注:"></textarea>
                                </div>
                            </div>
                            <div class="form-group" align="right">
                                <input type="submit" class="btn btn-sm btn-primary" value="提交" />
                                <input type="reset" class="btn btn-sm btn-warning" value="重置" />
                            </div>
                        </form>
                    </div><!--modal body ends-->
                </div>
            </div>
        </div><!--quick add modal end-->

        <!-- authentication card modal start-->
        <div class="modal fade" id="modal-quick-auth-card" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">选择终端</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <form class="form-horizontal" id="frm-quick-auth-card">
                            <div class="widget-box">
                                <div class="widget-body">
                                    <div class="widget-main padding-8">
                                        <div class="terminal_tree tree"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" align="right">
                                <input type="button" class="btn btn-sm btn-primary" value="提交" />
                                <input type="button" class="btn btn-sm btn-warning" value="取消" />
                            </div>
                        </form>
                    </div><!--modal body ends-->
                </div>
            </div>
        </div><!-- quick authentication card modal start-->

        <!--add-card modal start-->
		<div class="modal fade" id="modal-add-card" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
                    <!--modal header begins-->
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<h5 class="modal-title">添加卡片</h5>
					</div>
					<!--modal header ends-->
					<!--modal body begins-->
					<div class="modal-body">
						<form class="form-horizontal" id="frm-add-card">
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 卡号：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="cardBuilding"
                                           placeholder="请输入卡号:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#">读取</a>
                                </div>
                            </div>
							<div class="form-group" align="left">
								<label class="col-sm-3 control-label no-padding-right"> 类型：</label>
								<div class="col-sm-7">
									<select name="residentSex" class="form-control">
										<option value="-1" selected="selected">请选择类型:</option>
										<option value="1">身份证</option>
										<option value="2">IC卡</option>
									</select>
								</div>
							</div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 状态：</label>
                                <div class="col-sm-7">
                                    <select name="residentSex" class="form-control">
                                        <option value="-1" selected="selected">请选择状态:</option>
                                        <option value="1">正常</option>
                                        <option value="2">禁用</option>
                                        <option value="3">停用</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 持卡人：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="OwnerIDCardNum" disabled>
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#modal-select-resident" data-toggle="modal" >选择持卡人</a>
                                </div>
                            </div>
                            <!--
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 房间号：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="OwnerIDCardNum" disabled>
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#modal-select-room" data-toggle="modal" >选择房间号</a>
                                </div>
                            </div>
                            -->
							<div class="form-group">
								<label class="col-sm-3 control-label no-padding-right"> 备注：</label>
								<div class="col-sm-7">
									<textarea class="form-control" name="cardRemark" rows="4"
										   placeholder="请输入备注:"></textarea>
								</div>
							</div>
                            <div class="form-group" align="right">
                                <input type="submit" class="btn btn-sm btn-primary" value="提交" />
                                <input type="reset" class="btn btn-sm btn-warning" value="重置" />
                            </div>
						</form>
					</div><!--modal body ends-->
				</div>
			</div>
		</div><!--add-product modal end-->

        <!--update-card modal use select2 start-->
        <div class="modal fade" id="modal-update-card-select2" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">修改卡片信息</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body">
                        <form class="form-horizontal" id="frm-add-product-select2">
                            <div class="form-group">
                                <label class="col-sm-2 control-label no-padding-right"> 卡号：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" name="cardId"
                                           placeholder="请输入卡号:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#modal-select-building" data-toggle="modal">读取</a>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-2 control-label no-padding-right"> 类型：</label>
                                <div class="col-sm-8">
                                    <select name="cardType" class="form-control">
                                        <option value="-1" selected="selected">请选择类型:</option>
                                        <option value="1">身份证</option>
                                        <option value="2">IC卡</option>
                                    </select>
                                </div>
                            </div>
                            <!--
                            <div class="form-group" align="left">
                                <label class="col-sm-2 control-label no-padding-right"> 状态：</label>
                                <div class="col-sm-8">
                                    <select name="cardStatus" class="form-control">
                                        <option value="-1" selected="selected">请选择状态:</option>
                                        <option value="1">正常</option>
                                        <option value="2">禁用</option>
                                        <option value="3">停用</option>
                                    </select>
                                </div>
                            </div>
                            -->
                            <div class="form-group">
                                <label class="col-sm-2 control-label no-padding-right"> 持卡人：</label>
                                <div class="col-sm-8">
                                    <select name="cardOwner" class="owner-select2 form-control select2-hidden-accessible"
                                            tabindex="-1" aria-hidden="true" style="width: 100%;">
                                        <option value="-1" selected="selected">请输入住户姓名/证件号码/住户类型</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label no-padding-right"> 备注：</label>
                                <div class="col-sm-8">
									<textarea class="form-control" name="cardRemark" rows="4"
                                              placeholder="请输入备注:"></textarea>
                                </div>
                            </div>
                            <div class="form-group" align="right">
                                <input type="submit" class="btn btn-sm btn-primary" value="提交" />
                                <input type="reset" class="btn btn-sm btn-warning" value="重置" />
                            </div>
                        </form>
                    </div><!--modal body ends-->
                </div>
            </div>
        </div><!--update-product modal end-->

        <!-- authentication card modal start-->
        <div class="modal fade" id="modal-auth-card" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">卡片授权</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <form class="form-horizontal" id="frm-auth-card">
                            <div class="form-group">
                                <label class="col-sm-2 control-label no-padding-right"> 卡号：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" name="cardId"
                                           placeholder="请输入卡号:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#modal-select-building" data-toggle="modal">读取</a>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-2 control-label no-padding-right"> 有效期：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" name="validDate"
                                           placeholder="请输入有效期:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-2 control-label no-padding-right"> 卡片授权：</label>
                                <div class="col-sm-8">
                                    <select name="authType" class="form-control">
                                        <option value="-1" selected="selected">请选择授权类型:</option>
                                        <option value="1">普通卡</option>
                                        <option value="2">管理卡</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-2 control-label no-padding-right"> 围墙机：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" name="wallMachine"
                                           placeholder="请输入围墙机:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <!--
                                    <a href="#modal-select-terminal" data-toggle="modal" onclick="getTerminalList('wallMachine')">选择终端</a>
                                    -->
									<a href="#modal-quick-add-terminal" data-toggle="modal" onclick="getTerminalList('wallMachine')">选择终端</a>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-2 control-label no-padding-right"> 单元机：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" name="unitMachine"
                                           placeholder="请输入单元机:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <!--
                                    <a href="#modal-select-terminal" data-toggle="modal" onclick="getTerminalList('unitMachine')">选择终端</a>
                                    -->
									<a href="#modal-quick-add-terminal" data-toggle="modal" onclick="getTerminalList('unitMachine')">选择终端</a>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label no-padding-right"> 座号：</label>
                                <div class="col-sm-8">
                                    <select name="seatNumber" class="form-control">
                                        <option value="-1">请选择座号:</option>
                                        <option value="0" selected >0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label no-padding-right"> 房间号：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" name="roomNumber"
                                           placeholder="请输入房间号:">
                                </div>
								<div class="col-sm-2" style="vertical-align: center">
									<a href="#modal-quick-add-room" data-toggle="modal">选择房间号</a>
								</div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label no-padding-right"></label>
                                <div class="col-sm-8">
                                    <table id="doorTable" class="nowrap dataTable hover display cell-border">
                                    </table>
                                </div>
                            </div>
                            <div class="form-group" align="right">
                                <input type="submit" class="btn btn-sm btn-primary" value="提交" />
                                <input type="reset" class="btn btn-sm btn-warning" value="重置" />
                            </div>
                        </form>
                    </div><!--modal body ends-->
                </div>
            </div>
        </div><!-- authentication card modal start-->

        <!-- renew card modal start-->
        <div class="modal fade" id="modal-renew-card" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">卡片续期</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <form class="form-horizontal" id="frm-renew-card">
                            <div class="form-group">
                                <label class="col-sm-2 control-label no-padding-right"> 卡号：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" name="cardId"
                                           placeholder="请输入卡号:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#modal-select-building" data-toggle="modal">读取</a>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-2 control-label no-padding-right"> 有效期：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" name="validDate"
                                           placeholder="请输入有效期:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-2 control-label no-padding-right"> 续期时间：</label>
                                <div class="col-sm-8">
                                    <select name="renewTime" class="form-control">
                                        <option value="-1" selected="selected">请选择续期时间:</option>
                                        <option value="1">一天</option>
                                        <option value="2">两天</option>
                                        <option value="3">三天</option>
                                        <option value="4">一周</option>
                                        <option value="5">两周</option>
                                        <option value="6">一个月</option>
                                        <option value="7">两个月</option>
                                        <option value="8">三个月</option>
                                        <option value="9">半年</option>
                                        <option value="10">一年</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="right">
                                <input type="submit" class="btn btn-sm btn-primary" onclick="renewCardDate()" value="续期" />
                            </div>
                        </form>
                    </div><!--modal body ends-->
                </div>
            </div>
        </div><!-- renew card modal start-->

        <!--select resident modal start-->
        <div class="modal fade" id="modal-select-resident" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">输入住户信息</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <div>
                            <form class="form-horizontal" id="frm-select-resident">
                                <!--
                                <div class="form-group" align="left">
                                    <label class="col-sm-2 control-label no-padding-right"> 住户姓名：</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" name="residentName"
                                               placeholder="请输入住户姓名:">
                                    </div>
                                </div>
                                -->
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 证件号码：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="IDCardNum"
                                               placeholder="请输入证件号码:">
                                    </div>
                                    <input type="button" onclick="searchResident()" id="watchResident"
                                           class="col-sm-1 control-label btn btn-success btn-sm" value="查看" />
                                </div>
                                <div>
                                    <hr />
                                    <table class="residentTable nowrap dataTable hover display cell-border">
                                    </table>
                                    <hr />
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 证件种类：</label>
                                    <div class="col-sm-7">
                                        <select name="certType" class="form-control">
                                            <option value="-1" selected="selected">请选择证件种类:</option>
                                            <option value="1">身份证</option>
                                            <option value="2">外交护照</option>
                                            <option value="3">公务护照</option>
                                            <option value="4">因公普通护照</option>
                                            <option value="5">护照</option>
                                            <option value="6">其它</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 发证机关：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="department"
                                               placeholder="请输入发证机关:">
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 证件有效期：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="IDCardValidDate"
                                               placeholder="请输入证件有效期:">
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 姓名：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="residentName"
                                               placeholder="请输入住户姓名:">
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 照片：</label>
                                    <div class="col-sm-7">
                                        <input type="file" class="form-control" name="residentPhoto" />
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 性别：</label>
                                    <div class="col-sm-7">
                                        <select name="residentSex" class="form-control">
                                            <option value="-1" selected="selected">请选择住户性别:</option>
                                            <option value="1">男</option>
                                            <option value="2">女</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 出生日期：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="residentBirthday"
                                               placeholder="请输入出生日期:">
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 民族：</label>
                                    <div class="col-sm-7">
                                        <select name="residentNation" class="form-control">
                                            <option value="-1" selected="selected">请选择国籍地区:</option>
                                            <option value="1">中国</option>
                                            <option value="2">香港</option>
                                            <option value="3">澳门</option>
                                            <option value="4">台湾</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 户籍地行政区划代码：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="adminDivisionCode"
                                               placeholder="请选择户籍地行政区划代码:">
                                    </div>
                                    <div class="col-sm-2" style="vertical-align: center">
                                        <a href="#modal-select-adminArea" data-toggle="modal" onclick="getAdminAreaList()">&nbsp;选择<br />行政区划</a>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label no-padding-right"> 户籍详细地址：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="domicilePlace"
                                               placeholder="请输入户籍详细地址:">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label no-padding-right"> 工作单位/学校：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="companyOrSchool"
                                               placeholder="请输入工作单位/学校:">
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 状态: </label>
                                    <div class="col-sm-7">
                                        <select name="status" class="form-control">
                                            <option value="-1" selected="selected">请选择状态:</option>
                                            <option value="1">正常</option>
                                            <option value="2">禁用</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 类别: </label>
                                    <div class="col-sm-7">
                                        <select name="residentType" class="form-control">
                                            <option value="-1" selected="selected">请选择类别:</option>
                                            <option value="1">住户</option>
                                            <option value="2">租客</option>
                                            <option value="3">其他</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 属性: </label>
                                    <div class="col-sm-7">
                                        <select name="residentAttribute" class="form-control">
                                            <option value="-1" selected="selected">请选择属性:</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" align="left">
                                    <label class="col-sm-3 control-label no-padding-right"> 联系电话：</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" name="residentPhone"
                                               placeholder="请输入联系电话:">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-3 control-label no-padding-right"> 备注：</label>
                                    <div class="col-sm-7">
									<textarea class="form-control" name="residentRemark" rows="4"
                                              placeholder="请输入备注:"></textarea>
                                    </div>
                                </div>
                            </form>
                            <!--
                            <input id="searchResident" type="text" class="form-control search-query"
                                   style="margin-left: 4px; width: 160px; float: left;" placeholder="身份证号/姓名/住户类型" />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-purple btn-sm" onclick="searchResident()">
                                    查询
                                    <i class="icon-search icon-on-right bigger-110"></i>
                                </button>
                            </span>
                            -->
                        </div>
                        <!--
                        <div>
                            <table class="residentTable nowrap dataTable hover display cell-border">
                            </table>
                        </div>
                        -->
                    </div><!--modal body ends-->
                    <div class="modal-footer" style="background-color: white;">
                        <button class="btn btn-primary btn-sm" onclick="selectResident()">提交</button>
                    </div>
                </div>
            </div>
        </div><!--select resident modal end-->

        <!-- select terminal modal starts-->
        <div class="modal fade" id="modal-select-terminal" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">选择终端</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <div>
                            <input type="text" class="searchTerminal form-control search-query"
                                   style="width: 160px; float: left;" placeholder="地址码/终端别名/联机状态" />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-purple btn-sm" onclick="searchTerminal()">
                                    查询
                                    <i class="icon-search icon-on-right bigger-110"></i>
                                </button>
                            </span>
                        </div>
                        <div>
                            <!--
                            <table id="residentTable" class="nowrap dataTable hover display cell-border">
                            -->
                            <table class="terminalTable nowrap dataTable hover display cell-border">
                            </table>
                        </div>
                    </div><!--modal body ends-->
                    <div class="modal-footer" style="background-color: white;">
                        <button class="btn btn-primary btn-sm" onclick="selectTerminal()">提交</button>
                    </div>
                </div>
            </div>
        </div><!--select terminal modal ends-->

        <!-- quick add terminal modal starts-->
        <div class="modal fade" id="modal-quick-add-terminal" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">选择终端</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <form class="form-horizontal" id="frm-quick-add-terminal">
                            <div>
                                <input type="text" class="searchTerminal form-control search-query"
                                       style="width: 160px; float: left;" placeholder="地址码/终端别名/联机状态" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-purple btn-sm" onclick="searchTerminal()">
                                        查询
                                        <i class="icon-search icon-on-right bigger-110"></i>
                                    </button>
                                </span>
                            </div>
                            <hr />
                            <div>
                                <table class="terminalTable nowrap dataTable hover display cell-border">
                                </table>
                            </div>
                            <hr />
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 地址编码：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="addressCode"
                                           placeholder="请输入地址编码:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 地址编码授权码：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="addressCodeAuthCode"
                                           placeholder="请输入地址编码授权码:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> SIM卡号：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="SIMNumber"
                                           placeholder="请输入SIM卡号:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 终端别名：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="terminalAlias"
                                           placeholder="请输入终端别名:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 型号: </label>
                                <div class="col-sm-7">
                                    <select name="residentType" class="form-control">
                                        <option value="-1" selected="selected">请选择型号:</option>
                                        <option value="1.00">社区版V1</option>
                                        <option value="2.00">社区版V2</option>
                                        <option value="3.00">社区版V3</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 所属建筑：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="terminalCommunity"
                                           placeholder="请输入所属建筑:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#modal-select-building" data-toggle="modal" onclick="getBuildingList()">选择建筑</a>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 安装日期：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="terminalAlias"
                                           placeholder="请输入安装日期:">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 门禁信息：</label>
                                <div class="col-sm-8">
                                    <table class="doorTable nowrap dataTable hover display cell-border">
                                    </table>
                                </div>
                            </div>
                        </form>
                    </div><!--modal body ends-->
                    <div class="modal-footer" style="background-color: white;">
                        <button class="btn btn-primary btn-sm" onclick="selectTerminal()">提交</button>
                    </div>
                </div>
            </div>
        </div><!--quick add terminal modal ends-->

		<!--add-room modal start-->
		<div class="modal fade" id="modal-quick-add-room" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content" style="width: 650px;">
					<!--modal header begins-->
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<h5 class="modal-title">添加房间</h5>
					</div>
					<!--modal header ends-->
					<!--modal body begins-->
					<div class="modal-body">
						<form class="form-horizontal" id="frm-quick-add-room">
							<div class="form-group">
								<label class="col-sm-2 control-label no-padding-right"> 所在建筑：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" name="roomBuilding"
										   placeholder="请输入建筑地址:">
								</div>
								<div class="col-sm-2" style="vertical-align: center">
									<a href="#modal-select-building" data-toggle="modal" onclick="getBuildingList()">选择建筑</a>
								</div>
							</div>
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 座号：</label>
								<div class="col-sm-8">
									<select name="seatNumber" class="form-control">
										<option value="-1" selected="selected">请选择座号:</option>
										<option value="0">0</option>
										<option value="1">1</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
										<option value="8">8</option>
									</select>
								</div>
							</div>
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 房间号：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" name="roomName"
										   placeholder="请输入房间号:">
								</div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <button class="btn btn-success btn-sm" onclick="getRoomList()">查看</button>
                                </div>
							</div>
                            <hr />
                                <table id="roomTable" class="nowrap dataTable hover display cell-border">
                                </table>
                            <hr />
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 房屋编码：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" name="houseId"
										   placeholder="请输入房屋编码:">
								</div>
							</div>
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 房屋编码授权码：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" name="houseIdAuthCode"
										   placeholder="请输入房屋编码授权码:">
								</div>
							</div>
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 业主：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" name="roomResident"
										   placeholder="请输入住户姓名:">
								</div>
								<div class="col-sm-2" style="vertical-align: center">
									<a href="#modal-select-user" data-toggle="modal" onclick="getUserList()">选择用户</a>
								</div>
							</div>
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 状态：</label>
								<div class="col-sm-8">
									<select name="status" class="form-control">
										<option value="-1" selected="selected">请选择状态:</option>
										<option value="0">正常</option>
										<option value="1">禁用</option>
									</select>
								</div>
							</div>
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 户型：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" name="houseType"
										   placeholder="请输入户型:">
								</div>
							</div>
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 面积：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" name="houseArea"
										   placeholder="请输入面积:">
								</div>
							</div>
							<div class="form-group" align="left">
								<label class="col-sm-2 control-label no-padding-right"> 附属设施：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" name="affiliatedFacilities"
										   placeholder="请输入附属设施:">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label no-padding-right"> 备注：</label>
								<div class="col-sm-8">
									<textarea class="form-control" name="roomRemark" rows="4"
											  placeholder="请输入备注:"></textarea>
								</div>
							</div>
							<div class="form-group" align="right">
								<input type="submit" class="btn btn-sm btn-primary" value="提交" />
								<input type="reset" class="btn btn-sm btn-warning" value="重置" />
							</div>
						</form>
					</div><!--modal body ends-->
				</div>
			</div>
		</div><!-- quick add room modal ends-->

        <!--select building modal start-->
        <div class="modal fade" id="modal-select-building" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document" style="width: 950px;">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">选择建筑</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <div>
                            <input id="searchBuilding" type="text" class="form-control search-query"
                                   style="width: 160px; float: left;" placeholder="建筑编号/建筑地址/所属社区" />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-purple btn-sm" onclick="searchBuilding()">
                                    查询
                                    <i class="icon-search icon-on-right bigger-110"></i>
                                </button>
                            </span>
                        </div>
                        <div>
                            <table id="buildingTable" class="nowrap dataTable hover display cell-border">
                            </table>
                        </div>
                    </div><!--modal body ends-->
                    <div class="modal-footer" style="background-color: white;">
                        <button class="btn btn-primary btn-sm" onclick="selectBuilding()">提交</button>
                    </div>
                </div>
            </div>
        </div><!--select building modal end-->

        <!--select user modal start-->
        <div class="modal fade" id="modal-select-user" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">选择用户</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <div>
                            <input id="searchUser" type="text" class="form-control search-query"
                                   style="margin-left: 4px; width: 160px; float: left;" placeholder="用户账号/姓名/证件号码" />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-purple btn-sm" onclick="searchResident()">
                                    查询
                                    <i class="icon-search icon-on-right bigger-110"></i>
                                </button>
                            </span>
                        </div>
                        <div>
                            <!--
                            <table id="residentTable" class="nowrap dataTable hover display cell-border">
                            -->
                            <table id="userTable" class="nowrap dataTable hover display cell-border">
                            </table>
                        </div>
                    </div><!--modal body ends-->
                    <div class="modal-footer" style="background-color: white;">
                        <button class="btn btn-primary btn-sm" onclick="selectResident()">提交</button>
                    </div>
                </div>
            </div>
        </div><!--select user modal end-->

        <!--add-resident modal start-->
        <div class="modal fade" id="modal-add-resident" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">添加住户</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body">
                        <form class="form-horizontal" id="frm-add-product">
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 证件号码：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="residentIDCardNum"
                                           placeholder="请输入证件号码:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#">读取</a>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 证件种类：</label>
                                <div class="col-sm-7">
                                    <select name="residentType" class="form-control">
                                        <option value="-1" selected="selected">请选择证件种类:</option>
                                        <option value="1">身份证</option>
                                        <option value="2">外交护照</option>
                                        <option value="3">公务护照</option>
                                        <option value="4">因公普通护照</option>
                                        <option value="5">护照</option>
                                        <option value="6">其它</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 发证机关：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="department"
                                           placeholder="请输入发证机关:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 证件有效期：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="IDCardValidDate"
                                           placeholder="请输入证件有效期:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 姓名：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="residentName"
                                           placeholder="请输入住户姓名:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 照片：</label>
                                <div class="col-sm-7">
                                    <input type="file" class="form-control" name="residentPhoto" />
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 性别：</label>
                                <div class="col-sm-7">
                                    <select name="residentSex" class="form-control">
                                        <option value="-1" selected="selected">请选择住户性别:</option>
                                        <option value="1">男</option>
                                        <option value="2">女</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 出生日期：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="residentBirthday"
                                           placeholder="请输入出生日期:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 民族：</label>
                                <div class="col-sm-7">
                                    <select name="residentNation" class="form-control">
                                        <option value="-1" selected="selected">请选择国籍地区:</option>
                                        <option value="1">中国</option>
                                        <option value="2">香港</option>
                                        <option value="3">澳门</option>
                                        <option value="4">台湾</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 户籍地行政区划代码：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="adminDivisionCode"
                                           placeholder="请选择户籍地行政区划代码:">
                                </div>
                                <div class="col-sm-2" style="vertical-align: center">
                                    <a href="#modal-select-adminArea" data-toggle="modal" onclick="getAdminAreaList()">&nbsp;选择<br />行政区划</a>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 户籍详细地址：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="domicilePlace"
                                           placeholder="请输入户籍详细地址:">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 工作单位/学校：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="companyOrSchool"
                                           placeholder="请输入工作单位/学校:">
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 状态: </label>
                                <div class="col-sm-7">
                                    <select name="status" class="form-control">
                                        <option value="-1" selected="selected">请选择状态:</option>
                                        <option value="1">正常</option>
                                        <option value="2">禁用</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 类别: </label>
                                <div class="col-sm-7">
                                    <select name="residentType" class="form-control">
                                        <option value="-1" selected="selected">请选择类别:</option>
                                        <option value="1">住户</option>
                                        <option value="2">租客</option>
                                        <option value="3">其他</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 属性: </label>
                                <div class="col-sm-7">
                                    <select name="residentAttribute" class="form-control">
                                        <option value="-1" selected="selected">请选择属性:</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" align="left">
                                <label class="col-sm-3 control-label no-padding-right"> 联系电话：</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="residentPhone"
                                           placeholder="请输入联系电话:">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label no-padding-right"> 备注：</label>
                                <div class="col-sm-7">
									<textarea class="form-control" name="residentRemark" rows="4"
                                              placeholder="请输入备注:"></textarea>
                                </div>
                            </div>
                            <div class="form-group" align="right">
                                <input type="submit" class="btn btn-sm btn-primary" value="提交" />
                                <input type="reset" class="btn btn-sm btn-warning" value="重置" />
                            </div>
                        </form>
                    </div><!--modal body ends-->
                </div>
            </div>
        </div><!--add-product modal end-->

        <!-- select administrative area modal start -->
        <div class="modal fade" id="modal-select-adminArea" tabindex="-2" role="dialog" >
            <div class="modal-dialog" role="document">
                <div class="modal-content" style="width: 280px;margin-left: auto; margin-right: auto;">
                    <!--modal header begins-->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">选择行政划区</h5>
                    </div>
                    <!--modal header ends-->
                    <!--modal body begins-->
                    <div class="modal-body" style="font-size: 12px;">
                        <div>
                            <input id="searchResident" type="text" class="form-control search-query"
                                   style="width: 160px; float: left;" placeholder="行政区划代码/名称" />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-purple btn-sm" onclick="searchAdminArea()">
                                    查询
                                    <i class="icon-search icon-on-right bigger-110"></i>
                                </button>
                            </span>
                        </div>
                        <div>
                            <table id="adminAreaTable" class="nowrap dataTable hover display cell-border">
                            </table>
                        </div>
                    </div><!--modal body ends-->
                    <div class="modal-footer" style="background-color: white;">
                        <button class="btn btn-primary btn-sm" onclick="selectResident()">提交</button>
                    </div>
                </div>
            </div>
        </div><!-- select administrative area modal end -->

        <!-- basic scripts -->

        <!--[if !IE]> -->
        <script type="text/javascript">
            window.jQuery || document.write("<script src='assets/js/jquery-2.0.3.min.js'>"+"<"+"/script>");
        </script>
        <!-- <![endif]-->

        <!--[if IE]>
        <script type="text/javascript">
             window.jQuery || document.write("<script src='assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
        </script>
        <![endif]-->

		<script type="text/javascript">
			if("ontouchend" in document) document.write("<script src='assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
		</script>
		<script src="assets/js/bootstrap.min.js"></script>
		<script src="assets/js/typeahead-bs2.min.js"></script>

		<!-- page specific plugin scripts -->

		<!-- ace scripts -->

		<script src="assets/js/ace-elements.min.js"></script>
		<script src="assets/js/ace.min.js"></script>

		<!-- other jquery scripts -->
		<script src="assets/js/jquery.dataTables.min.js"></script>
        <!-- jquery plugin select2 -->
        <script src="assets/js/select2.full.min.js"></script>

		<!-- custom scripts -->
		<script src="js/acs-util.js"></script>

        <!-- ace script -->
        <script src="assets/js/fuelux/data/fuelux.tree-sampledata.js"></script>
        <script src="assets/js/fuelux/fuelux.tree.min.js"></script>

        <script src="js/communityTreeData.js"></script>

		<!-- inline scripts related to this page -->
		<script type="text/javascript">
            try{ace.settings.check('sidebar' , 'collapsed')}catch(e){}
            var cardTable;
            var terminalTable;
            var whichMachine;

            $(function() {
                getCardList();
                initOwnerSelect2();
                getDoorList();
                getRoomList();
                terminal_assign_tree();
            });

            /**
             * 获取房间列表
             */
            function getCardList() {
                var param = {
                    type : "get",
                    url : "data/cardList.json",
                    successCall : initCardTable,
                    errorCall : function() {
                        showCommonTip("加载房间列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化房间列表表格
             */
            function initCardTable(data) {
                cardTable = $('#cardTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering":false,
                    "createdRow": function( row, data, dataIndex ) {
                        $('td', row).attr("class","text-center");
                        $(row).css("cursor","pointer");
                    },
                    "language": {
                        "url":"assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            title: '<div style="text-align:center;">'
                                + '<input type="checkbox" id="all-card-checkbox" onclick="selectAllCheckBox(\'cardCkb\')" name="allCardCheckBox" />'
                                + '</div>',
                            data: 'uuid', render: function(data, type,row) {
                            return '<input id="ckb_' + data + '" name="cardCkb" value="'
                                + data + '" type="checkbox" onclick="checkBoxClick(\'cardCkb\',\'all-card-checkbox\')">';
                        }},
                        {title: '卡号', data: "cardId"},
                        {title: '卡类型', data: "type"},
                        {title: '持卡人', data: 'owner'},
						{title: '使用范围', data: 'range'},
                        {title: '有效期', data: "validDate"},
                        /*
                        {title: '创建人', data: "createUser"},
                        {title: '创建时间', data: "createTime"},
                        */
                        {title: '修改人', data: "updateUser"},
                        {title: '修改时间', data: "updateTime"},
                        {title: '备注', data: "remark"}
                    ],
                    "order": [[1, "asc"]]
                });
            }

            function search() {
                var keyword = $('#inputCardName').val();
                console.log(cardTable);
                cardTable.search(keyword).draw();
            }

            <!--select resident table script begins-->
            function searchResident() {
                var IDCardNum = $('#frm-select-resident input[name="IDCardNum"]').val();
                getResidentList(IDCardNum);
            }
            /**
             * 获取住户列表数据
             */
            function getResidentList(IDCardNum) {
                var param = {
                    type : "get",
                    url : "data/residentList.json",
                    successCall : function(data) {
                        initResidentTable(data, IDCardNum);
                    },
                    errorCall : function() {
                        showCommonTip("加载住户列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化住户列表
             * @param data
             */
            function initResidentTable(data, IDCardNum) {
                residentTable = $('.residentTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering":false,
                    "bRetrieve": true,
                    "createdRow": function( row, data, dataIndex ) {
                        $('td', row).attr("class","text-center");
                        $(row).css("cursor","pointer");
                    },
                    "language": {
                        "url":"assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            data: 'residentId', render: function(data, type,row) {
                            return '<input id="radio_' + data + '" name="residentRadio" value="'
                                + data + '" type="radio" onclick="checkBoxClick(\'residentRadio\',\'all-resident-checkbox\')">';
                        }},
                        {title: "住户姓名", data: "name"},
                        {title: "证件号码", data: "IDCard"},
                        {title: "性别", data: "sex"},
                        {title: "住户类型", data: "type"},
                        {title: "状态", data: "status"},
                        {title: "备注", data: "remark"}
                    ],
                    "order": [[1, "asc"]]
                });
                //过滤多余的数据
                residentTable.search(IDCardNum).draw();
                //获取dataTables中的第一行的数据以及当前显示的行数
                var data = residentTable.row().data();
                var info = residentTable.page.info();
                if(1 == info.recordsDisplay)
                    fillResidentForm(data);
            }

            /**
             * 选择住户
             */
            function selectResident() {
                $('input[name="residentRadio"]:checked').each(function(i, item) {
                    var parent = $(item).parents("tr")[0];
                    var child = $(parent).children("td")[1];
                    var text = $(child).text();
                    $('#modal-add-card input[name="cardOwner"]').val(text);
                    $('#modal-select-resident').modal("hide");
                });
            }

            function fillResidentForm(data) {
                $("#frm-select-resident input[name='certType']").val(1);
                $("#frm-select-resident input[name='residentName']").val(data.name);
                if(data.sex == '男') {
                    $("#frm-select-resident input[name='residentSex']").val(1);
                } else {
                    $("#frm-select-resident input[name='residentSex']").val(2);
                }
                $("#frm-select-resident input[name='residentBirthday']").val(data.birthday);
                $("#frm-select-resident input[name='status']").val(1);
                $("#frm-select-resident input[name='residentType']").val(1);
                $("#frm-select-resident input[name='residentAttribute']").val(data.attribute);
                $("#frm-select-resident input[name='residentRemark']").val(data.remark);
                $("#frm-select-resident input").prop("disabled", true);
                $("#frm-select-resident select").prop("disabled", true);
                $("#frm-select-resident textarea").prop("disabled", true);
                $("#frm-select-resident input[name='IDCardNum']").prop("disabled", false);
                $("#frm-select-resident #watchResident").prop("disabled", false);
            }
            <!--select resident table script ends-->

            <!-- owner select2 script begins -->
            /**
             * jquery select2 的控制脚本
             */
            function formatRepo(repo) {
                return repo.text;       //jquery select2 必须返回text
            }
            function formatRepoSelection(repo) {
                return repo.text;
            }
            function initOwnerSelect2() {
                $(".owner-select2").select2({
                    ajax: {
                        url: "data/residentList.json",
                        type: "get",
                        delay: 250,
                        data: function(params) {
                            return {}
                        },
                        processResults: function(data, params) {
                            //jquery select2 必须返回text，此处将name转换为text
                            for(var index in data) {
                                data[index].id = data[index].residentId;
                                data[index].text = data[index].name;
                            }
                            return {
                                results: data,
                                pagination: {
                                    more: true
                                }
                            };
                        },
                        cache: true,
                    },
                    escapeMarkup: function(markup) { return markup; },
                    minimumInputLength: 1,
                    templateResult: formatRepo, //返回数据的显示格式
                    templateSelection: formatRepoSelection  //被选择的数据的显示格式
                });
            }
            <!-- owner select2 script ends -->

            <!-- update card script begins -->
            function updateCardModal() {
                //showCommonTip("tset");
                var ids = getCheckedBox("cardCkb");
                if(ids.length < 1)
                    alert("未勾选住户");
                else if(ids.length > 1)
                    alert("当前勾选了多个住户");
                else {
                    var checkBox = $("#ckb_" + ids[0]);
                    var parent = $(checkBox).parents("tr")[0];
                    var cardId = $($(parent).children("td")[1]).text();
                    var type = $($(parent).children("td")[2]).text();
                    var owner = $($(parent).children("td")[3]).text();
                    var remark = $($(parent).children("td")[10]).text();
                    $("#modal-update-card-select2 input[name='cardId']").val(cardId);
                    switch(type){
                        case "身份证":
                            type = 1;
                            break;
                        case "IC卡":
                            type = 2;
                    }
                    $("#modal-update-card-select2 select[name='cardType']").val(type);
                    $("#modal-update-card-select2 span[id^=select2-cardOwner]").html(owner);
                    $("#modal-update-card-select2 textarea[name='cardRemark']").val(remark);
                    $("#modal-update-card-select2").modal('show');
                }
            }
            <!-- update card script ends -->

            <!-- select terminal script starts -->
            /**
             * 获取终端列表数据
             */
            function getTerminalList(machine) {
                whichMachine = machine;
                var param = {
                    type : "get",
                    url : "data/terminalList.json",
                    successCall : initTerminalTable,
                    errorCall : function() {
                        showCommonTip("加载住户列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化终端列表
             * @param data
             */
            function initTerminalTable(data) {
                terminalTable = $('.terminalTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering":false,
                    "bRetrieve": true,
                    "createdRow": function( row, data, dataIndex ) {
                        $('td', row).attr("class","text-center");
                        $(row).css("cursor","pointer");
                    },
                    "language": {
                        "url":"assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            data: 'uuid', render: function(data, type,row) {
                            return '<input id="radio_' + data + '" name="terminalRadio" value="'
                                + data + '" type="radio"' +
                                'onclick="clickTerminalRadio()">';
                        }},
                        {title: "地址码", data: "addressCode"},
                        {title: "终端别称", data: "terminalAlias"},
                        {title: "建筑地址", data: "buildingAddress"}
                    ],
                    "order": [[1, "asc"]]
                });
            }

            /**
             * 选择设备
             */
            function selectTerminal() {
                $('input[name="terminalRadio"]:checked').each(function(i, item) {
                    var parent = $(item).parents("tr")[0];
                    var child = $(parent).children("td")[2];
                    var text = $(child).text();
                    $('#modal-auth-card input[name="' + whichMachine + '"]').val(text);
                    //显示出口列表
                    getDoorList();
                    $('#modal-select-terminal').modal("hide");
                });
            }

            function terminal_assign_tree() {
                var test = terminal_tree_data;
                $('.terminal_tree').ace_tree({
                    dataSource: terminal_tree_data,//ad_division_tree_data ,
                    multiSelect:true,
                    loadingHTML:'<div class="tree-loading"><i class="icon-refresh icon-spin blue"></i></div>',
                    'open-icon' : 'icon-minus',
                    'close-icon' : 'icon-plus',
                    'selectable' : true,
                    'selected-icon' : 'icon-ok',
                    'unselected-icon' : 'icon-remove'
                });
            }

            /**
             * 点击建筑列表的单选框
             */
            function clickTerminalRadio() {
                $('#frm-quick-add-terminal input').prop("disabled", true);
                $('#frm-quick-add-terminal select').prop("disabled", true);
                $('#frm-quick-add-terminal .searchTerminal').prop("disabled", false);
                $('#frm-quick-add-terminal input[name="terminalRadio"]').prop("disabled", false);
                $('.doorTable').DataTable().clear().draw();
            }
            <!-- select terminal script ends -->

            <!-- fill door script begins -->
            /**
             * 获取出口列表数据
             */
            function getDoorList() {
                var param = {
                    type : "get",
                    url : "data/doorList.json",
                    successCall : initDoorTable,
                    errorCall : function() {
                        showCommonTip("加载住户列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化终端列表
             * @param data
             */
            function initDoorTable(data) {
                doorTable = $('#doorTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering":false,
                    "bRetrieve": true,
                    "createdRow": function( row, data, dataIndex ) {
                        $('td', row).attr("class","text-center");
                        $(row).css("cursor","pointer");
                    },
                    "language": {
                        "url":"assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            data: 'uuid', render: function(data, type,row) {
                            return '<input id="ckb_' + data + '" name="doorCkb" value="'
                                + data + '" type="checkbox" onclick="checkBoxClick(\'doorCkb\',\'all-door-checkbox\')">';
                        }},
                        {title: "终端别名", data: "terminalAlias"},
                        {title: "地址码", data: "addressCode"},
                        {title: "门禁别名", data: "doorAlias"}
                    ],
                    "order": [[1, "asc"]]
                });
            }
            <!-- fill door script ends -->

            <!-- renew card valid date script starts -->
            function renewCardValidDate() {
                //showCommonTip("tset");
                var ids = getCheckedBox("cardCkb");
                if(ids.length > 1)
                    alert("当前勾选了多个住户");
                else if(ids.length == 1) {
                    var checkBox = $("#ckb_" + ids[0]);
                    var parent = $(checkBox).parents("tr")[0];
                    var cardId = $($(parent).children("td")[1]).text();
                    var validDate = $($(parent).children("td")[5]).text();
                    $("#modal-renew-card input[name='cardId']").val(cardId);
                    $("#modal-renew-card input[name='validDate']").val(validDate);
                }
                $("#modal-renew-card").modal('show');
            }
            <!-- renew card valid date script ends -->

            <!-- fill door script begins -->
            /**
             * 获取出口列表数据
             */
            function getDoorList() {
                var param = {
                    type : "get",
                    url : "data/doorList.json",
                    successCall : initDoorTable,
                    errorCall : function() {
                        showCommonTip("加载住户列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化终端列表
             * @param data
             */
            function initDoorTable(data) {
                doorTable = $('.doorTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering":false,
                    "bRetrieve": true,
                    "createdRow": function( row, data, dataIndex ) {
                        $('td', row).attr("class","text-center");
                        $(row).css("cursor","pointer");
                    },
                    "language": {
                        "url":"assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            data: 'uuid', render: function(data, type,row) {
                            return '<input id="ckb_' + data + '" name="doorCkb" value="'
                                + data + '" type="checkbox" onclick="checkBoxClick(\'doorCkb\',\'all-door-checkbox\')">';
                        }},
                        {title: "终端别名", data: "blank"},
                        {title: "地址码", data: "blank"},
                        {title: "门禁别名", data: "doorAlias"}
                    ],
                    "order": [[1, "asc"]]
                });
            }
            <!-- fill door script ends -->

            <!--select building table script begins-->
            /**
             * 获取建筑列表数据
             */
            function getBuildingList() {
                var param = {
                    type : "get",
                    url : "data/buildingList.json",
                    successCall : initBuildingTable,
                    errorCall : function() {
                        showCommonTip("加载用户列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化建筑列表
             * @param data
             */
            function initBuildingTable(data) {
                buildingTable = $('#buildingTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering":false,
                    "bRetrieve": true,
                    "createdRow": function( row, data, dataIndex ) {
                        $('td', row).attr("class","text-center");
                        $(row).css("cursor","pointer");
                    },
                    "language": {
                        "url":"assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            data: 'uuid', render: function(data, type, row) {
                            return '<input id="radio_' + data + '" name="buildingRadio" value="'
                                + data + '" type="radio">';
                        }},
                        {title: '建筑编号', data: "buildingId"},
                        {title: '建筑地址', data: "buildingAddress"},
                        {title: '所在社区', data: "communityAddress"},
                        {title: '所在警务区', data: "policeArea"},
                        {title: '备注', data: "remark"}
                    ],
                    "order": [[1, "asc"]]
                });
            }

            /**
             * 选择建筑
             */
            function selectBuilding() {
                $('input[name="buildingRadio"]:checked').each(function(i, item) {
                    var parent = $(item).parents("tr")[0];
                    var child = $(parent).children("td")[2];
                    var text = $(child).text();
                    $('#modal-add-room input[name="roomBuilding"]').val(text);
                    $('#modal-select-building').modal("hide");
                });
            }
            <!--select building table script ends-->

            <!-- select user table script starts -->
            /**
             * 获取用户列表
             */
            function getUserList() {
                var param = {
                    type: "get",
                    url: "data/userListNew.json",
                    successCall: initUserTable,
                    errorCall: function () {
                        showCommonTip("加载用户列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化用户列表表格
             */
            function initUserTable(data) {
                userTable = $('#userTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering": false,
                    "createdRow": function (row, data, dataIndex) {
                        $('td', row).attr("class", "text-center");
                        $(row).css("cursor", "pointer");
                    },
                    "language": {
                        "url": "assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            title: '<input id="all-user-checkbox" type="checkbox" name="radios" />',
                            data: 'uuid', render: function (data, type, row) {
                            return '<input id="ckb_' + data + '" name="userCkb" value="' + data + '" type="checkbox" onclick="checkBoxClick(\'userCkb\',\'all-user-checkbox\')">';
                        }, className: "dt-center",
                        },
                        {title: '用户账号', data: "name", className: "dt-center",},
                        {title: '姓名', data: "username", className: "dt-center",},
                        {
                            title: '状态', data: "status", className: "dt-center", render: function (data, type, row) {
                            if (data == '1') {
                                return '已启用';
                            } else {
                                return '未启用';
                            }
                        }
                        },
                        {title: '证件号码', data: "idNum", className: "dt-center",},
                        {title: '权限角色', data: "role", className: "dt-center",},
                    ],
                    "order": [[1, "asc"]]
                });
            }
            <!-- select user table script ends -->

            <!-- add room table script begins -->
            /**
             * 获取房间列表
             */
            function getRoomList() {
                var param = {
                    type : "get",
                    url : "data/roomList.json",
                    successCall : initRoomTable,
                    errorCall : function() {
                        showCommonTip("加载房间列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化房间列表表格
             */
            function initRoomTable(data) {
                roomTable = $('#roomTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering":false,
                    "createdRow": function( row, data, dataIndex ) {
                        $('td', row).attr("class","text-center");
                        $(row).css("cursor","pointer");
                    },
                    "language": {
                        "url":"assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            /*
                            title: '<div style="text-align:center;">'
                            + '<input type="checkbox" id="all-room-checkbox" onclick="selectAllCheckBox(\'roomCkb\')" name="allRoomCheckBox" />'
                            + '</div>',
                            */
                            data: 'uuid', render: function(data, type,row) {
                            return '<input id="radio_' + data + '" name="roomRadio" value="'
                                + data + '" type="radio" onclick="radioClick(\'roomRadio\')">';
                        }},
                        {title: '房间编号', data: "roomId"},
                        {title: '所属建筑', data: "buildingAddress"},
                        {title: '房间号', data: 'roomId'},
                        {title: '住户', data: 'resident'},
                        /*
                        {title: '创建人', data: "createUser"},
                        {title: '创建时间', data: "createTime"},
                        {title: '修改人', data: "updateUser"},
                        {title: '修改时间', data: "updateTime"},
                        {title: '备注', data: "remark"}
                        */
                    ],
                    "order": [[1, "asc"]]
                });
            }

            function radioClick(target) {
                var len = $("input[name=" + target + "]:checkbox").length;
                if(len >= 0) {
                    $("#modal-quick-add-room input").prop("disabled", true);
                    $("#modal-quick-add-room select").prop("disabled", true);
                    $("#modal-quick-add-room textarea").prop("disabled", true);
                    $("#modal-quick-add-room input[name='roomRadio']").prop("disabled", false);
                    $("#modal-quick-add-room input[type='submit']").prop("disabled", false);
                    $("#modal-quick-add-room input[type='reset']").prop("disabled", false);
                }
            }
            <!-- add room table script ends -->

            <!-- read card script begins -->
            function readCard() {
                var i=Math.floor(Math.random()*10+1);
                if(i%3==0) {
                    $("#frm-quick-add input[name='cardNumber']").val('44162xxxxxxxxxxxx');
                    $("#frm-quick-add select[name='cardType']").val('1');
                    $("#frm-quick-add input[name='owner']").val('张三');
                    $("#updateResident").removeClass('hidden');
                    $("#addResident").addClass('hidden');
				} else if(i%3==1){
                    $("#frm-quick-add input[name='cardNumber']").val('xxxxxxxxxx3242');
                    $("#frm-quick-add select[name='cardType']").val('1');
                    $("#frm-quick-add input[name='owner']").val('未登记的住户，请添加住户信息');
                    $("#updateResident").addClass('hidden');
                    $("#addResident").removeClass('hidden');
				} else {
                    $("#frm-quick-add input[name='cardNumber']").val('DF34443DF');
                    $("#frm-quick-add select[name='cardType']").val('2');
                    $("#frm-quick-add input[name='owner']").val('请选择住户');
                    $("#updateResident").addClass('hidden');
                    $("#addResident").removeClass('hidden');
				}

            }
            <!-- read card script ends -->

            <!-- select admin place modal starts -->
            /**
             * 获取行政划区列表
             */
            function getAdminAreaList() {
                var param = {
                    type : "get",
                    url : "data/adminAreaList.json",
                    successCall : initAdminAreaTable,
                    errorCall : function() {
                        showCommonTip("加载住户列表失败！");
                    }
                };
                ajax(param);
            }

            /**
             * 初始化住户列表表格
             */
            function initAdminAreaTable(data) {
                residentTable = $('#adminAreaTable').DataTable({
                    "data": data,
                    "deferRender": true,
                    "bProcessing": true,
                    "lengthChange": false,
                    "ordering":false,
                    "createdRow": function( row, data, dataIndex ) {
                        $('td', row).attr("class","text-center");
                        $(row).css("cursor","pointer");
                    },
                    "language": {
                        "url":"assets/js/jquery-dataTables-zh.json"
                    },
                    "columns": [
                        {
                            data: 'code', render: function(data, type,row) {
                            return '<input id="radio_' + data + '" name="adminAreaRadio" value="'
                                + data + '" type="radio">';
                        }},
                        {title: "行政区划代码", data: "code"},
                        {title: "名称", data: "address"},
                    ],
                    "order": [[1, "asc"]]
                });
            }
            <!-- select admin place modal ends -->

        </script>
</body>
</html>
