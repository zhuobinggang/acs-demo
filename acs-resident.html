<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>数聚智能门禁信息管理系统-房间管理</title>
    <meta name="keywords" content="Bootstrap模版,Bootstrap模版下载,Bootstrap教程,Bootstrap中文"/>
    <meta name="description" content="站长素材提供Bootstrap模版,Bootstrap教程,Bootstrap中文翻译等相关Bootstrap插件下载"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!-- basic styles -->

    <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="assets/css/font-awesome.min.css"/>

    <!--[if IE 7]>
    <link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css"/>
    <![endif]-->

    <!-- page specific plugin styles -->

    <!-- fonts -->

    <!--
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" />
    -->

    <!-- ace styles -->

    <link rel="stylesheet" href="assets/css/ace.min.css"/>
    <link rel="stylesheet" href="assets/css/ace-rtl.min.css"/>
    <link rel="stylesheet" href="assets/css/ace-skins.min.css"/>
    <link rel="stylesheet" href="css/acs.css"/>

    <!-- jquery plugin styles -->
    <link rel="stylesheet" href="assets/css/jquery.dataTables.css"/>
    <!-- jquery plugin select2 styles -->
    <link rel="stylesheet" href="assets/css/select2.min.css"/>

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="assets/css/ace-ie.min.css"/>
    <![endif]-->

    <!-- inline styles related to this page -->

    <!-- ace settings handler -->

    <script src="assets/js/ace-extra.min.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!--css style begins-->
    <style type="text/css">
        /* 社区列表标题居中 */
        #buildingTable th {
            text-align: center;
        }

        /* 建筑列表获取 */
        #residentTable th {
            text-align: center;
        }

        /* 修改模态对话框的字体大小 */
        .modal {
            font-size: 12px;
        }

        .modal label, input, textarea {
            font-size: 12px !important;
        }

        #buildingTable, #residentTable input {
            height: 28px;
        }

        /* dataTable的页数提示信息的字体大小 */
        .dataTables_info {
            font-size: 12px;
        }

        #modal-select-adminArea .modal-content {
            width: 283px;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
    <!--css style ends-->
</head>

<body>
<div class="navbar navbar-default" id="navbar">
    <script type="text/javascript">
        try {
            ace.settings.check('navbar', 'fixed')
        } catch (e) {
        }
    </script>

    <div class="navbar-container" id="navbar-container">
        <div class="navbar-header pull-left">
            <a href="#" class="navbar-brand">
                <small>Accudata 数聚智能门禁信息管理系统</small>
            </a><!-- /.brand -->
        </div><!-- /.navbar-header -->

        <div class="navbar-header pull-right" role="navigation">
            <ul class="nav ace-nav">
                <li class="purple">
                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                        <i class="icon-bell-alt icon-animated-bell"></i>
                        <span class="badge badge-important">8</span>
                    </a>

                    <ul class="pull-right dropdown-navbar navbar-pink dropdown-menu dropdown-caret dropdown-close">
                        <li class="dropdown-header">
                            <i class="icon-warning-sign"></i>
                            8条报警信息
                        </li>
                        <li>
                            <a href="#">
                                <div class="clearfix">
                                			<span class="pull-left">
                                    			<i class="btn btn-xs no-hover btn-pink icon-comment"></i>
                                    			超时未关闭..
											</span>
                                    <span class="pull-right badge badge-info">2</span>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div class="clearfix">
                                			<span class="pull-left">
                                    			<i class="btn btn-xs no-hover btn-pink icon-user"></i>
                                    				消防报警
											</span>
                                    <span class="pull-right badge badge-info">2</span>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div class="clearfix">
                                			<span class="pull-left">
                                    			<i class="btn btn-xs no-hover btn-success icon-shopping-cart"></i>
                                  				  红外报警
                               				 </span>
                                    <span class="pull-right badge badge-success">2</span>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div class="clearfix">
                               				<span class="pull-left">
                                  				 <i class="btn btn-xs no-hover btn-info icon-twitter"></i>
                                    			门磁报警
                              				</span>
                                    <span class="pull-right badge badge-info">2</span>
                                </div>
                            </a>
                        </li>

                        <li>
                            <a href="#">
                                查看所有报警信息
                                <i class="icon-arrow-right"></i>
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="green">
                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                        <i class="icon-envelope icon-animated-vertical"></i>
                        <span class="badge badge-success">5</span>
                    </a>

                    <ul class="pull-right dropdown-navbar dropdown-menu dropdown-caret dropdown-close">
                        <li class="dropdown-header">
                            <i class="icon-envelope-alt"></i>
                            5 条消息
                        </li>

                        <li>
                            <a href="#">
										<span class="msg-body">
											<span class="msg-title">
												<span class="blue">系统通知:</span>
												不知道写啥 ...
											</span>
											<span class="msg-time">
												<i class="icon-time"></i>
												<span>2017-8-31 17:30:30</span>
											</span>
										</span>
                            </a>
                        </li>

                        <li>
                            <a href="#">
										<span class="msg-body">
											<span class="msg-title">
												<span class="blue">系统通知:</span>
												不知道写啥 ...
											</span>
											<span class="msg-time">
												<i class="icon-time"></i>
												<span>2017-8-30 17:30:30</span>
											</span>
										</span>
                            </a>
                        </li>

                        <li>
                            <a href="#">
										<span class="msg-body">
											<span class="msg-title">
												<span class="blue">系统通知:</span>
												不知道写啥 ...
											</span>
											<span class="msg-time">
												<i class="icon-time"></i>
												<span>2017-8-29 17:30:30</span>
											</span>
										</span>
                            </a>
                        </li>

                        <li>
                            <a href="inbox.html">
                                查看所有消息
                                <i class="icon-arrow-right"></i>
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="light-blue">
                    <a data-toggle="dropdown" href="#" class="dropdown-toggle">
								<span class="user-info">
									<small>欢迎,</small>
									用户名
								</span>

                        <i class="icon-caret-down"></i>
                    </a>

                    <ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
                        <li>
                            <a href="#">
                                <i class="icon-cog"></i>
                                修改密码
                            </a>
                        </li>

                        <li>
                            <a href="#">
                                <i class="icon-user"></i>
                                个人信息
                            </a>
                        </li>

                        <li class="divider"></li>

                        <li>
                            <a href="#">
                                <i class="icon-off"></i>
                                退出
                            </a>
                        </li>
                    </ul>
                </li>
            </ul><!-- /.ace-nav -->
        </div><!-- /.navbar-header -->
    </div><!-- /.container -->
</div>

<div class="main-container" id="main-container">
    <script type="text/javascript">
        try {
            ace.settings.check('main-container', 'fixed')
        } catch (e) {
        }
    </script>

    <div class="main-container-inner">
        <a class="menu-toggler" id="menu-toggler" href="#">
            <span class="menu-text"></span>
        </a>

        <div class="sidebar" id="sidebar">
            <script type="text/javascript">
                try {
                    ace.settings.check('sidebar', 'fixed')
                } catch (e) {
                }
            </script>

            <ul class="nav nav-list">
                <!-- terminal monitor begin -->
                <!--<li class="active open">-->
                <!--<a href="#" class="dropdown-toggle">-->
                <!--<i class="icon-dashboard"></i>-->
                <!--<span class="menu-text"> 门禁监控 </span>-->
                <!--<b class="arrow icon-angle-down"></b>-->
                <!--</a>-->
                <!--<ul class="submenu">-->
                <!--<li class="">-->
                <!--<a href="acs-map.html">-->
                <!--<i class="icon-map-marker"></i>-->
                <!--<span class="menu-text"> 电子地图 </span>-->
                <!--</a>-->
                <!--</li>-->
                <!--<li class="active">-->
                <!--<a href="acs-monitor.html">-->
                <!--<i class="icon-tags"></i>-->
                <!--<span class="menu-text"> 监控视图 </span>-->
                <!--</a>-->
                <!--</li>-->
                <!--</ul>-->
                <!--</li>-->
                <!-- terminal monitor end -->
                <!-- terminal admin begin -->
                <li class="">
                    <a href="#" class="dropdown-toggle">
                        <i class="icon-lock"></i>
                        <span class="menu-text"> 门禁监控 </span>
                        <b class="arrow icon-angle-down"></b>
                    </a>
                    <ul class="submenu">
                        <li class="">
                            <a href="acs-map.html">
                                <i class="icon-map-marker"></i>
                                <span class="menu-text"> 电子地图 </span>
                            </a>
                        </li>
                        <li class="">
                            <a href="acs-monitor.html">
                                <i class="icon-tags"></i>
                                <span class="menu-text"> 监控视图 </span>
                            </a>
                        </li>

                    </ul>
                </li>
                <!-- terminal admin end -->
                <!-- community admin begin -->
                <li class="active open">
                    <a href="#" class="dropdown-toggle">
                        <i class="icon-cloud"></i>
                        <span class="menu-text"> 门禁管理 </span>
                        <b class="arrow icon-angle-down"></b>
                    </a>
                    <ul class="submenu">
                        <li class="">
                            <a href="acs-terminal.html">
                                <i class="icon-th-list"></i>
                                <span class="menu-text">  终端管理 </span>
                            </a>
                        </li>
                        <li class="">
                            <a href="acs-building.html">
                                <i class="icon-building"></i>
                                <span class="menu-text"> 楼宇管理 </span>
                            </a>
                        </li>
                        <li class="">
                            <a href="acs-room.html">
                                <i class="icon-home"></i>
                                <span class="menu-text">  房间管理 </span>
                            </a>
                        </li>
                        <li class="active">
                            <a href="acs-resident.html">
                                <i class="icon-user"></i>
                                <span class="menu-text"> 住户管理 </span>
                            </a>
                        </li>
                        <li class="">
                            <a href="acs-card.html">
                                <i class="icon-credit-card"></i>
                                <span class="menu-text"> 卡片管理 </span>
                            </a>
                        </li>
                    </ul>
                </li>
                <!-- community admin end -->
                <!-- system admin begin -->
                <li class="">
                    <a href="#" class="dropdown-toggle">
                        <i class="icon-cogs"></i>
                        <span class="menu-text"> 系统管理 </span>
                        <b class="arrow icon-angle-down"></b>
                    </a>
                    <ul class="submenu">
                        <li class="">
                            <a href="acs-user.html">
                                <i class="icon-user"></i>
                                <span class="menu-text"> 用户管理 </span>
                            </a>
                        </li>
                        <li class="">
                            <a href="acs-role.html">
                                <i class="icon-male"></i>
                                <span class="menu-text"> 角色管理 </span>
                            </a>
                        </li>
                        <li class="">
                            <a href="acs-organization.html">
                                <i class="icon-group"></i>
                                <span class="menu-text"> 机构管理 </span>
                            </a>
                        </li>
                        <li class="">
                            <a href="acs-authority">
                                <i class="icon-gear"></i>
                                <span class="menu-text"> 权限管理 </span>
                            </a>
                        </li>
                    </ul>
                </li>
                <!-- system admin end -->
            </ul><!-- /.nav-list -->

            <div class="sidebar-collapse" id="sidebar-collapse">
                <i class="icon-double-angle-left" data-icon1="icon-double-angle-left"
                   data-icon2="icon-double-angle-right"></i>
            </div>

            <script type="text/javascript">
                try {
                    ace.settings.check('sidebar', 'collapsed')
                } catch (e) {
                }
            </script>
        </div>

        <!-- .main-content -->
        <div class="main-content">
            <div class="breadcrumbs" id="breadcrumbs">
                <script type="text/javascript">
                    try {
                        ace.settings.check('breadcrumbs', 'fixed')
                    } catch (e) {
                    }
                </script>

                <ul class="breadcrumb">
                    <li>
                        门禁管理
                    </li>
                    <li class="active">住户管理</li>
                </ul><!-- .breadcrumb -->

            </div>

            <!-- .page-content -->
            <div class="page-content">
                <div class="row">
                    <div class="col-xs-12">
                        <!-- PAGE CONTENT BEGINS -->
                        <div style="margin-top: 20px; font-size: 12px;">
                            <table style="width:100%">
                                <tr>
                                    <td style="padding:3px;" id="f_resident_s">
                                        <form class="form-search" style="float: left;">
                                            <div class="row">
                                                <div style="width: 300px; margin-left: 9px;">
                                                    <div class="input-group">
                                                        <input id="inputResidentName" type="text"
                                                               class="form-control search-query"
                                                               placeholder="住户姓名/证件号码/住户类型"/>
                                                        <span class="input-group-btn">
                                                    				<button type="button" class="btn btn-purple btn-sm"
                                                                            onclick="search()">
                                                        				查询
                                                       					<i class="icon-search icon-on-right bigger-110"></i>
                                                    				</button>
                                               					</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                        <button type="button" class="btn btn-success btn-sm"
                                                style="float: left; margin-left: 20px;"
                                                data-toggle="modal" data-target="#modal-search-resident">
                                            高级查询
                                            <i class="icon-search icon-on-right bigger-110"></i>
                                        </button>
                                    </td>
                                    <td align="right" style="padding-right: 3px;" id="f_resident_more">
                                        <button class="btn btn-sm btn-primary" data-toggle="modal"
                                                data-target="#modal-add-resident">添加
                                        </button>
                                        <button class="btn btn-sm btn-primary" data-toggle="modal"
                                                onclick="updateResident()">修改
                                        </button>
                                        <button class="btn btn-sm btn-danger" onclick="deleteResident()">删除</button>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div style="margin-top: 20px; font-size: 12px;">
                            <table id="residentTable" class="nowrap dataTable hover display cell-border">
                            </table>
                        </div>
                        <!-- PAGE CONTENT ENDS -->
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- /.page-content -->
        </div><!-- /.main-content -->

    </div><!-- /.main-container-inner -->

    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
        <i class="icon-double-angle-up icon-only bigger-110"></i>
    </a>
</div><!-- /.main-container -->

<!--add-resident modal start-->
<div class="modal fade" id="modal-add-resident" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!--modal header begins-->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title">添加住户</h5>
            </div>
            <!--modal header ends-->
            <!--modal body begins-->
            <div class="modal-body">
                <form class="form-horizontal" id="frm-add-resident">
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right"> 证件号码：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="certNum"
                                   placeholder="请输入证件号码:">
                        </div>
                        <div class="col-sm-2" style="vertical-align: center">
                            <a href="#">读取</a>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 证件种类：</label>
                        <div class="col-sm-7">
                            <select name="certType" class="form-control">
                                <!--<option value="-1" selected="selected">请选择证件种类:</option>-->
                                <option value="0">身份证</option>
                                <option value="1">工作证</option>
                                <!--<option value="2">外交护照</option>-->
                                <!--<option value="3">公务护照</option>-->
                                <!--<option value="4">因公普通护照</option>-->
                                <!--<option value="5">护照</option>-->
                                <!--<option value="6">其它</option>-->
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 发证机关：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="department"
                                   placeholder="请输入发证机关:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 证件有效期：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="validateData"
                                   placeholder="请输入证件有效期:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 姓名：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="name"
                                   placeholder="请输入住户姓名:">
                        </div>
                    </div>
                    <!--<div class="form-group" align="left">-->
                        <!--<label class="col-sm-3 control-label no-padding-right"> 照片：</label>-->
                        <!--<div class="col-sm-7">-->
                            <!--<input type="file" class="form-control" name="residentPhoto"/>-->
                        <!--</div>-->
                    <!--</div>-->
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 性别：</label>
                        <div class="col-sm-7">
                            <select name="sex" class="form-control">
                                <!--<option value="-1" selected="selected">请选择住户性别:</option>-->
                                <option value="1">男</option>
                                <option value="2">女</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 出生日期：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="birthday"
                                   placeholder="请输入出生日期:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 民族：</label>
                        <div class="col-sm-7">
                            <select name="nationId" class="form-control">
                                <!--<option value="-1" selected="selected">请选择国籍地区:</option>-->
                                <!--<option value="1">中国</option>-->
                                <!--<option value="2">香港</option>-->
                                <!--<option value="3">澳门</option>-->
                                <!--<option value="4">台湾</option>-->
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 户籍地行政区划代码：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="nationDivisionCode"
                                   placeholder="请选择户籍地行政区划代码:">
                        </div>
                        <div class="col-sm-2" style="vertical-align: center">
                            <a href="#modal-select-adminArea" data-toggle="modal"
                               onclick="getAdminAreaList()">&nbsp;选择<br/>行政区划</a>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right"> 户籍详细地址：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="householdRegisterAddress"
                                   placeholder="请输入户籍详细地址:">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right"> 工作单位/学校：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="company"
                                   placeholder="请输入工作单位/学校:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 状态: </label>
                        <div class="col-sm-7">
                            <select name="status" class="form-control">
                                <!--<option value="-1" selected="selected">请选择状态:</option>-->
                                <option value="0">入住</option>
                                <option value="1">未入住</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 类别: </label>
                        <div class="col-sm-7">
                            <select name="type" class="form-control">
                                <!--<option value="-1" selected="selected">请选择类别:</option>-->
                                <option value="0">住户</option>
                                <option value="1">业主</option>
                                <option value="2">其他</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 属性: </label>
                        <div class="col-sm-7">
                            <select name="attribute" class="form-control">
                                <!--<option value="-1" selected="selected">请选择属性:</option>-->
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 联系电话：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="phone"
                                   placeholder="请输入联系电话:">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right"> 备注：</label>
                        <div class="col-sm-7">
									<textarea class="form-control" name="remark" rows="4"
                                              placeholder="请输入备注:"></textarea>
                        </div>
                    </div>
                    <div class="form-group" align="right">
                        <input onclick="confirmAddResident()" data-dismiss="modal" class="btn btn-sm btn-primary" value="提交"/>
                        <input type="reset" class="btn btn-sm btn-warning" value="重置"/>
                    </div>
                </form>
            </div><!--modal body ends-->
        </div>
    </div>
</div><!--add-product modal end-->
<!--Update-resident modal start-->
<div class="modal fade" id="modal-update-resident" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!--modal header begins-->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title">修改住户</h5>
            </div>
            <!--modal header ends-->
            <!--modal body begins-->
            <div class="modal-body">
                <form class="form-horizontal" id="frm-update-resident">
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right"> 证件号码：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="certNum"
                                   placeholder="请输入证件号码:">
                        </div>
                        <div class="col-sm-2" style="vertical-align: center">
                            <a href="#">读取</a>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 证件种类：</label>
                        <div class="col-sm-7">
                            <select name="certType" class="form-control">
                                <!--<option value="-1" selected="selected">请选择证件种类:</option>-->
                                <option value="0">身份证</option>
                                <option value="1">工作证</option>
                                <!--<option value="2">外交护照</option>-->
                                <!--<option value="3">公务护照</option>-->
                                <!--<option value="4">因公普通护照</option>-->
                                <!--<option value="5">护照</option>-->
                                <!--<option value="6">其它</option>-->
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 发证机关：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="department"
                                   placeholder="请输入发证机关:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 证件有效期：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="validateData"
                                   placeholder="请输入证件有效期:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 姓名：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="name"
                                   placeholder="请输入住户姓名:">
                        </div>
                    </div>
                    <!--<div class="form-group" align="left">-->
                    <!--<label class="col-sm-3 control-label no-padding-right"> 照片：</label>-->
                    <!--<div class="col-sm-7">-->
                    <!--<input type="file" class="form-control" name="residentPhoto"/>-->
                    <!--</div>-->
                    <!--</div>-->
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 性别：</label>
                        <div class="col-sm-7">
                            <select name="sex" class="form-control">
                                <!--<option value="-1" selected="selected">请选择住户性别:</option>-->
                                <option value="1">男</option>
                                <option value="2">女</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 出生日期：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="birthday"
                                   placeholder="请输入出生日期:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 民族：</label>
                        <div class="col-sm-7">
                            <select name="nationId" class="form-control">
                                <!--<option value="-1" selected="selected">请选择国籍地区:</option>-->
                                <!--<option value="1">中国</option>-->
                                <!--<option value="2">香港</option>-->
                                <!--<option value="3">澳门</option>-->
                                <!--<option value="4">台湾</option>-->
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 户籍地行政区划代码：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="nationDivisionCode"
                                   placeholder="请选择户籍地行政区划代码:">
                        </div>
                        <div class="col-sm-2" style="vertical-align: center">
                            <a href="#modal-select-adminArea" data-toggle="modal"
                               onclick="getAdminAreaList()">&nbsp;选择<br/>行政区划</a>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right"> 户籍详细地址：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="householdRegisterAddress"
                                   placeholder="请输入户籍详细地址:">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right"> 工作单位/学校：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="company"
                                   placeholder="请输入工作单位/学校:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 状态: </label>
                        <div class="col-sm-7">
                            <select name="status" class="form-control">
                                <!--<option value="-1" selected="selected">请选择状态:</option>-->
                                <option value="0">入住</option>
                                <option value="1">未入住</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 类别: </label>
                        <div class="col-sm-7">
                            <select name="type" class="form-control">
                                <!--<option value="-1" selected="selected">请选择类别:</option>-->
                                <option value="0">住户</option>
                                <option value="1">业主</option>
                                <option value="2">其他</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 属性: </label>
                        <div class="col-sm-7">
                            <select name="attribute" class="form-control">
                                <!--<option value="-1" selected="selected">请选择属性:</option>-->
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-3 control-label no-padding-right"> 联系电话：</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="phone"
                                   placeholder="请输入联系电话:">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right"> 备注：</label>
                        <div class="col-sm-7">
									<textarea class="form-control" name="remark" rows="4"
                                              placeholder="请输入备注:"></textarea>
                        </div>
                    </div>
                    <div class="form-group" align="right">
                        <input onclick="confirmUpdateResident()" data-dismiss="modal" class="btn btn-sm btn-primary" value="提交"/>
                        <input type="reset" class="btn btn-sm btn-warning" value="重置"/>
                    </div>
                </form>
            </div><!--modal body ends-->
        </div>
    </div>
</div><!--add-product modal end-->

<!-- select administrative area modal start -->
<div class="modal fade" id="modal-select-adminArea" tabindex="-2" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!--modal header begins-->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title">选择行政划区</h5>
            </div>
            <!--modal header ends-->
            <!--modal body begins-->
            <div class="modal-body" style="font-size: 12px;">
                <div>
                    <input id="searchResident" type="text" class="form-control search-query"
                           style="width: 160px; float: left;" placeholder="行政区划代码/名称"/>
                    <span class="input-group-btn">
                                <button type="button" class="btn btn-purple btn-sm" onclick="searchAdminArea()">
                                    查询
                                    <i class="icon-search icon-on-right bigger-110"></i>
                                </button>
                            </span>
                </div>
                <div>
                    <table id="adminAreaTable" class="nowrap dataTable hover display cell-border">
                    </table>
                </div>
            </div><!--modal body ends-->
            <div class="modal-footer" style="background-color: white;">
                <button class="btn btn-primary btn-sm" onclick="selectResident()">提交</button>
            </div>
        </div>
    </div>
</div><!-- select administrative area modal end -->

<!--search resident modal start-->
<div class="modal fade" id="modal-search-resident" tabindex="-2" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!--modal header begins-->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title">高级查询</h5>
            </div>
            <!--modal header ends-->
            <!--modal body begins-->
            <div class="modal-body" style="font-size: 12px;">
                <form class="form-horizontal" id="frm-select-community">
                    <div class="form-group" align="left">
                        <label class="col-sm-2 control-label no-padding-right"> 住户姓名：</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="communityCode"
                                   placeholder="请输入住户姓名:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-2 control-label no-padding-right"> 证件号码：</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="communityName"
                                   placeholder="请输入证件号码:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-2 control-label no-padding-right"> 住户类型：</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="communityAddress"
                                   placeholder="请输入住户类型:">
                        </div>
                    </div>
                    <div class="form-group" align="left">
                        <label class="col-sm-2 control-label no-padding-right"> 建筑名称：</label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" name="communityAddress"
                                   placeholder="请输入建筑名称:">
                        </div>
                        <div class="col-sm-2" style="vertical-align: center">
                            <a href="#modal-select-building" data-toggle="modal" onclick="getBuildingList()">选择建筑</a>
                        </div>
                    </div>
                </form>
            </div><!--modal body ends-->
            <div class="modal-footer" style="background-color: white;">
                <button class="btn btn-primary btn-sm" data-dismiss="modal">查询</button>
            </div>
        </div>
    </div>
</div><!--search resident modal end-->

<!--select building modal start-->
<div class="modal fade" id="modal-select-building" tabindex="-2" role="dialog">
    <div class="modal-dialog" role="document" style="width: 850px;">
        <div class="modal-content">
            <!--modal header begins-->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h5 class="modal-title">选择建筑</h5>
            </div>
            <!--modal header ends-->
            <!--modal body begins-->
            <div class="modal-body" style="font-size: 12px;">
                <div>
                    <input id="searchBuilding" type="text" class="form-control search-query"
                           style="width: 200px; float: left;" placeholder="建筑编号/建筑地址/所属社区"/>
                    <span class="input-group-btn">
                                <button type="button" class="btn btn-purple btn-sm" onclick="searchBuilding()">
                                    查询
                                    <i class="icon-search icon-on-right bigger-110"></i>
                                </button>
                            </span>
                </div>
                <div>
                    <table id="buildingTable" class="nowrap dataTable hover display cell-border">
                    </table>
                </div>
            </div><!--modal body ends-->
            <div class="modal-footer" style="background-color: white;">
                <button class="btn btn-primary btn-sm" onclick="selectBuilding()">提交</button>
            </div>
        </div>
    </div>
</div><!--select building modal end-->

<!-- basic scripts -->

<script type="text/javascript">
    window.jQuery || document.write("<script src='assets/js/jquery-2.0.3.min.js'>" + "<" + "/script>");
</script>
<!--<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>-->

<!--[if IE]>
<!--<script type="text/javascript">-->
    <!--window.jQuery || document.write("<script src='assets/js/jquery-1.10.2.min.js'>" + "<" + "/script>");-->
<!--</script>-->
<![endif]-->

<script type="text/javascript">
    if ("ontouchend" in document) document.write("<script src='assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
</script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/typeahead-bs2.min.js"></script>

<!-- page specific plugin scripts -->

<!-- ace scripts -->

<script src="assets/js/ace-elements.min.js"></script>
<script src="assets/js/ace.min.js"></script>

<!-- other jquery scripts -->
<script src="assets/js/jquery.dataTables.min.js"></script>
<!-- jquery plugin select2 -->
<script src="assets/js/select2.full.min.js"></script>

<!-- custom scripts -->
<script src="js/acs-util.js"></script>
<script src="js/acs-util-new.js"></script>

<!-- inline scripts related to this page -->
<script type="text/javascript">
    try {
        ace.settings.check('sidebar', 'collapsed')
    } catch (e) {
    }
    var residentTable;
    var buildingTable;

    var myData = {
        checkedIds: [],
    }

    $(function init() {
//                getResidentList();
        getResidentListServerSide()


        //获取民族列表
        fillNationList()
    });

    /**
     * 获取住户列表
     */
    function getResidentList() {
        var param = {
            type: "get",
            url: "data/residentList.json",
            successCall: initResidentTable,
            errorCall: function () {
                showCommonTip("加载住户列表失败！");
            }
        };
        ajax(param);
    }

    function getResidentListServerSide() {
        var residentTable = $('#residentTable').DataTable({
            serverSide: true,
            ajax: '/resident/list',
            "deferRender": true,
            "bProcessing": true,
            "lengthChange": false,
            "ordering": false,
            "createdRow": function (row, data, dataIndex) {
                $('td', row).attr("class", "text-center");
                $(row).css("cursor", "pointer");
            },
            "language": {
                "url": "assets/js/jquery-dataTables-zh.json"
            },
            "columns": [
                {
                    title: '<div style="text-align:center;">'
                    + '<input type="checkbox" id="all-resident-checkbox" onclick="selectAllCheckBox(\'residentCkb\')" name="allResidentCheckBox" />'
                    + '</div>',
                    data: 'id', render: function (data, type, row) {
                    return '<input id="ckb_' + data + '" name="residentCkb" value="'
                        + data + '" type="checkbox" onclick="checkBoxClick(\'residentCkb\',\'all-resident-checkbox\')">';
                }
                },
                {title: "住户姓名", data: "name"},
                {title: "证件号码", data: "certNum"},
                {title: "性别", data: "sex"},
                {title: "住户类型", data: "type"},
                {title: "住户属性", data: "attribute"},
                /*
                {title: '创建人', data: "createUser"},
                {title: '创建时间', data: "createTime"},
                */
                {title: '修改人', data: "updateUser"},
                {title: '修改时间', data: "updateTime"},
                {title: '备注', data: "remark"}
            ],
            "order": [[1, "asc"]]
        })
    }

    /**
     * 初始化住户列表表格
     */
    function initResidentTable(data) {
        residentTable = $('#residentTable').DataTable({
            "data": data,
            "deferRender": true,
            "bProcessing": true,
            "lengthChange": false,
            "ordering": false,
            "createdRow": function (row, data, dataIndex) {
                $('td', row).attr("class", "text-center");
                $(row).css("cursor", "pointer");
            },
            "language": {
                "url": "assets/js/jquery-dataTables-zh.json"
            },
            "columns": [
                {
                    title: '<div style="text-align:center;">'
                    + '<input type="checkbox" id="all-resident-checkbox" onclick="selectAllCheckBox(\'residentCkb\')" name="allResidentCheckBox" />'
                    + '</div>',
                    data: 'residentId', render: function (data, type, row) {
                    return '<input id="ckb_' + data + '" name="residentCkb" value="'
                        + data + '" type="checkbox" onclick="checkBoxClick(\'residentCkb\',\'all-resident-checkbox\')">';
                }
                },
                {title: "住户姓名", data: "name"},
                {title: "证件号码", data: "IDCard"},
                {title: "性别", data: "sex"},
                {title: "住户类型", data: "type"},
                {title: "住户属性", data: "attribute"},
                /*
                {title: '创建人', data: "createUser"},
                {title: '创建时间', data: "createTime"},
                */
                {title: '修改人', data: "updateUser"},
                {title: '修改时间', data: "updateTime"},
                {title: '备注', data: "remark"}
            ],
            "order": [[1, "asc"]]
        });
    }

    function updateResidentModal() {
        //showCommonTip("tset");
        var ids = getCheckedBox("residentCkb");
        if (ids.length < 1)
            alert("未勾选住户");
        else if (ids.length > 1)
            alert("当前勾选了多个住户");
        else {
            var checkBox = $("#ckb_" + ids[0]);
            var parent = $(checkBox).parents("tr")[0];
            var residentName = $($(parent).children("td")[1]).text();
            var residentIDCard = $($(parent).children("td")[2]).text();
            var residentSex = $($(parent).children("td")[3]).text();
            var residentType = $($(parent).children("td")[4]).text();
            var residentAttribute = $($(parent).children("td")[5]).text();
            var residentRemark = $($(parent).children("td")[10]).text();
            $("#modal-add-resident input[name='residentName']").val(residentName);
            $("#modal-add-resident input[name='residentIDCard']").val(residentIDCard);
            switch (residentSex) {
                case "男":
                    residentSex = 1;
                    break;
                case "女":
                    residentSex = 2;
            }
            $("#modal-add-resident select[name='residentSex']").val(residentSex);
            switch (residentType) {
                case "住户":
                    residentType = 1;
                    break;
                case "租客":
                    residentType = 2;
            }
            $("#modal-add-resident select[name='residentType']").val(residentType);
            $("#modal-add-resident select[name='residentAttribute']").val(residentAttribute);
            $("#modal-add-resident textarea[name='residentRemark']").val(residentRemark);
            $("#modal-add-resident").modal('show');
        }
    }
    function updateResident() {
        var ids = getCheckedBox("residentCkb")
        if(ids.length < 1){
            alert('请勾选住户')
            return
        }

        myData.checkedIds = ids

        $('#modal-update-resident').modal('show')
    }
    function confirmUpdateResident() {
//        console.log('确认更新住户')
        var formData = $('#frm-add-resident').serializeArray()
        var data = {}

        for(var item of formData){
            data[item.name] = item.value
        }
        data.ids = myData.checkedIds

        $.ajax({
            traditional: true,
            url: '/resident/update',
            method: 'POST',
            data: data
        }).then(res=>{},err=>{
            alert('修改住户失败')
        })
    }

    function search() {
        var keyword = $('#inputResidentName').val();
        console.log(residentTable);
        residentTable.search(keyword).draw();
    }

    <!-- select admin place modal starts -->
    /**
     * 获取行政划区列表
     */
    function getAdminAreaList() {
        var param = {
            type: "get",
            url: "data/adminAreaList.json",
            successCall: initAdminAreaTable,
            errorCall: function () {
                showCommonTip("加载住户列表失败！");
            }
        };
        ajax(param);
    }

    /**
     * 初始化住户列表表格
     */
    function initAdminAreaTable(data) {
        residentTable = $('#adminAreaTable').DataTable({
            "data": data,
            "deferRender": true,
            "bProcessing": true,
            "lengthChange": false,
            "ordering": false,
            "createdRow": function (row, data, dataIndex) {
                $('td', row).attr("class", "text-center");
                $(row).css("cursor", "pointer");
            },
            "language": {
                "url": "assets/js/jquery-dataTables-zh.json"
            },
            "columns": [
                {
                    data: 'code', render: function (data, type, row) {
                    return '<input id="radio_' + data + '" name="adminAreaRadio" value="'
                        + data + '" type="radio">';
                }
                },
                {title: "行政区划代码", data: "code"},
                {title: "名称", data: "address"},
            ],
            "order": [[1, "asc"]]
        });
    }

    <!-- select admin place modal ends -->

    <!--select building table script begins-->
    /**
     * 获取建筑列表数据
     */
    function getBuildingList() {
        var param = {
            type: "get",
            url: "data/buildingList.json",
            successCall: initBuildingTable,
            errorCall: function () {
                showCommonTip("加载用户列表失败！");
            }
        };
        ajax(param);
    }

    /**
     * 初始化建筑列表
     * @param data
     */
    function initBuildingTable(data) {
        buildingTable = $('#buildingTable').DataTable({
            "data": data,
            "deferRender": true,
            "bProcessing": true,
            "lengthChange": false,
            "ordering": false,
            "bRetrieve": true,
            "createdRow": function (row, data, dataIndex) {
                $('td', row).attr("class", "text-center");
                $(row).css("cursor", "pointer");
            },
            "language": {
                "url": "assets/js/jquery-dataTables-zh.json"
            },
            "columns": [
                {
                    data: 'uuid', render: function (data, type, row) {
                    return '<input id="radio_' + data + '" name="buildingRadio" value="'
                        + data + '" type="radio">';
                }
                },
                {title: '建筑编号', data: "buildingId"},
                {title: '建筑地址', data: "buildingAddress"},
                {title: '所在社区', data: "communityAddress"},
                {title: '所在警务区', data: "policeArea"},
                {title: '备注', data: "remark"}
            ],
            "order": [[1, "asc"]]
        });
    }

    /**
     * 选择建筑
     */
    function selectBuilding() {
        $('input[name="buildingRadio"]:checked').each(function (i, item) {
            var parent = $(item).parents("tr")[0];
            var child = $(parent).children("td")[2];
            var text = $(child).text();
            $('#modal-add-room input[name="roomBuilding"]').val(text);
            $('#modal-select-building').modal("hide");
        });
    }

    <!--select building table script ends-->

    /**
     * 添加住户
     */
    function confirmAddResident() {
        var data = $('#frm-add-resident').serialize()

        $.ajax({
            url: '/resident/add',
            method: 'POST',
            data: data
        }).then(res=>{},err=>{
            alert('添加住户失败')
        })
    }

    function deleteResident() {
        var ids = getCheckedBox("residentCkb")
        if(ids.length < 1){
            alert('请勾选住户')
            return
        }

//        myData.checkedIds = ids
//        $('#modal-update-resident').modal('show')

        $.ajax({
            traditional: true,
            url: '/resident/delete',
            method: 'POST',
            data: {ids: ids},
        }).then(res=>{},err=>{
            alert('删除用户失败')
        })
    }

    function fillNationList() {
        $.ajax({
            url: '/user/nationList',
        }).then(res=>{
            if(isResultSuccess(res)){
                myData.nations = res.resultData

                for(var item of myData.nations){
                    //填充
                    $('select[name="nationId"]').append('<option value="'+item.id+'">'+item.name+'</option>')
                }

            }
        })
    }

</script>
</body>
</html>
